<!DOCTYPE html>
<html lang="en">

<head>
  <title>Click Swap </title>
<meta name="description" content="Click Swap is a Nigerian-made play-to-earn game. Click coins, get rewarded, refer friends, and withdraw money.">
<meta name="keywords" content="Click Swap, earn coins, play and earn, Nigerian game, referral bonus, withdraw money, online money game">
<meta name="author" content="Click Swap Team">
<meta name="robots" content="index, follow">

  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <meta charset="UTF-8">
  <title>Click Swap</title><link rel="icon" href="images/clickswap favicon.png" type="images/clickswap favicon.png">
    <link rel="stylesheet" href="style.css">
  
  <style>
    body {
      background-color: white;

      font-family: Arial, sans-serif;
      background-color: white;
      margin: 0;
      padding: 0;



    }

    header {
      display: flex;
      align-items: center;
      background-color: white;
      width: 1358px;
      height: 100px;
      outline: 3px solid grey;
      margin-bottom: 4px;
      gap: 5%;
      position: relative;
     

    }

    .e1 {
      width: 164px;
      height: 90px;
      background-color: rgb(28, 26, 26);
      border-radius: 30px;
      text-align: center;
      color: white;



    }


    #click-coin {
      width: 350px;
      height: 350px;

    }

    main {
      width: 440px;
      height: 620px;
      background-color: rgb(28, 27, 25);
      border-radius: 3%;
      display: grid;
      align-items: center;
      margin-top: 20px;
      margin-left: 450px;
      box-shadow: 0 6px 12px;
      text-align: center;
      font-family: 'Gill Sans', 'Gill Sans MT';




    }


    .wallet {
      font-size: 40px;
      color: white;
      font-family: Verdana, Geneva, Tahoma, sans-serif;
      margin-top: 80px;
    }

    .wel {
      text-align: center;
      
    }

    .plus-one {
      position: fixed;
      color: gold;
      font-size: 18px;
      font-weight: bold;
      opacity: 1;
      animation: tapFloat 0.8s ease-out forwards;
      pointer-events: none;
      z-index: 999;
    }

    @keyframes tapFloat {
      0% {
        transform: translateY(0);
        opacity: 1;
      }

      100% {
        transform: translateY(-25px);
        opacity: 0;
      }
    }

    nav {
      position: fixed;
      width: 300px;
      height: 370px;
      outline: 2px solid black;
      font-family: fantasy;
      text-align: center;
      font-size: x-large;
      color: gold;
      /* margin-bottom: 20px;  */
      padding-top: 2%;
      

    }
    .fb{
      display: flex;
      gap: 50%;
    }
  </style>
</head>

<body>


<script>
  // âœ… Show latest notification
  fetch("https://click-swap-backend.onrender.com/notifications/all")
    .then(res => res.json())
    .then(data => {
      const bar = document.getElementById("notificationBar");
      if (data.notifications && data.notifications.length > 0) {
        const latest = data.notifications[0]; // newest message
        const date = new Date(latest.createdAt).toLocaleDateString('en-GB');
        bar.innerHTML = `<strong>${date}</strong>: ${latest.message}`;
        bar.style.display = "block";
      } else {
        bar.style.display = "none";
      }
    })
    .catch(err => console.error("âŒ Notification load failed:", err));

    
  
  // Show general notification count
  fetch("https://click-swap-backend.onrender.com/notifications/count")
    .then(res => res.json())
    .then(data => {
      const notifCount = document.getElementById("notification-count");
      const count = data.count || 0;
      notifCount.textContent = count;
      notifCount.style.display = count > 0 ? "inline-block" : "none";
    })
    .catch(err => console.error("Failed to fetch notification count:", err));




  
</script>

<div class="fb">
 <div id="notificationBar" style="display:none;" class="bg-yellow-100 text-yellow-800 p-2 text-center font-semibold"></div>
           <!-- <div><a href="https://web.facebook.com/profile.php?id=100064721617680">Follow on <span><img src="https://upload.wikimedia.org/wikipedia/commons/1/16/Facebook-icon-1.png" alt="Facebook Logo" width="15" height="15"> -->
<!-- </span> for more information</a></div>   </div> -->
  <header>
   
    </div>
    <div class="e1">
      <h3 style="color: coral;"> 1 coin = â‚¦0.10</h3>
      <h3 style="font-size: 14px;">1000 coin = â‚¦100 </h3>
    </div>

    <div class="e1">
      <h3 style="color: coral;">Earn Per Tap</h3>
      <h3>ðŸ’°+1</h3>
    </div>
    <div class="e1">
      <h3 style="color: deepskyblue;">Earn Per Refferal</h3>
      <h3>ðŸ’°+100</h3>
    </div>
    <div class="e1">
      <h3 style="color: greenyellow;">Earn Per Video</h3>
      <h3>ðŸ’°+500</h3>
    </div>
    <div class="e1">
      <!-- withdrawhistory -->
      <a href="usernotify.html" style="text-decoration: none;">
        <div>
          <h3 style="color: greenyellow;">
            SEE WITHDRAWAL HISTORY </h3>
        </div>
      </a>
  
    


    </div>
     

  </header><br>
  <div class="wel">
    <h2>ðŸ‘‹ Welcome, <span id="user-name"></span>!</h2>
  </div>
     <!-- navigation area -->
  <nav>
    <a href="withdraw.html" style="text-decoration: none;">check withdrawal </a> 
     <p> <a href="referral.html" style="text-decoration: none;" >  Refer & Earn</a></p>
               <a href="leaderboard.html"> View My Leaderboard Rank</a>

 
     



  <a href="ads.html"  style="text-decoration: none;"
      >  <div>
      <p>Watch & Earn 500 ðŸ’°</p>
        <ins class="adsbygoogle"
      style="display:grid;  width: 70px; height: 70px; border-radius: 5%; margin-left: 25px ; background-color: deepskyblue;"
      data-ad-client="ca-pub-4970744686806954" data-ad-slot="3511468584" data-ad-format="rectangle"
      data-full-width-responsive="false"></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
       </div></a>
    
  </nav>

  <main>


    <div class="wallet">
      <p> ðŸ’° <span id="coin-count">0</span></p>
    </div>

    <div class="coin-container">
      <img src="images/Untitled-2.png" alt="Click Coin" id="click-coin" />

 
    </div>
    
  </main>


  <!-- Notification Bell -->
  <div style="position: fixed; top: 18px; right: 18px;">
    <a href="notification.html" style="position: relative;">
      ðŸ””
      <span id="notification-count"
        style="position:absolute; top:-10px; right:-10px; background:red; color:white; padding:4px 6px; border-radius:50%; font-size:12px;">
        0
      </span>
    </a>
  




</body>

<script>
  // Get references
  const userNameSpan =
    document.getElementById("user-name").textContent = localStorage.getItem("userLogin");
  const coinImg = document.getElementById("click-coin");
  const coinCountSpan = document.getElementById("coin-count");

  // Load coin count from localStorage
  let coinCount = parseInt(localStorage.getItem("coinCount")) || 0;
  coinCountSpan.textContent = coinCount;

  // Load sound
  const coinSound = new Audio("media/pop-331049.mp3");
  coinSound.volume = 0.9; // Optional: adjust volume (0.0 to 1.0)


  // Add click event
  coinImg.addEventListener("click", () => {
    coinSound.currentTime = 0;
    coinSound.play();
    coinSound.onerror = () => console.error("âŒ Could not load sound file.");

    const rect = coinImg.getBoundingClientRect();
    const startX = rect.left + rect.width / 2;
    const startY = rect.top + rect.height / 2;

    showPlusOne(startX, startY - 200); // this shows the soft +1





    coinCount++;
    coinCountSpan.textContent = coinCount;
    localStorage.setItem("coinCount", coinCount);
  });

  function showPlusOne(x, y) {
    const el = document.createElement("div");
    el.className = "plus-one";
    el.textContent = "+1";
    el.style.left = `${x}px`;
    el.style.top = `${y}px`;
    document.body.appendChild(el);
    setTimeout(() => el.remove(), 800);
  }



  fetch("https://click-swap-backend.onrender.com/notifications/unread-count")
    .then(res => res.json())
    .then(data => {
      const count = data.count || 0;
      document.getElementById("notification-count").textContent = count;
    });
        
  const userEmail = localStorage.getItem("userLogin");

 


</script>

</html>
